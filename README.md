# Лабораторная работа 3

## 1. Создание виртуальной машины А и обеспечение доступа в Интернет

Создана виртуальная машина `vm-A`. Для нее была создана следующая виртуальная сеть:

<p align="center">
 <img width="600px" src="1 net.png" alt="qr"/>
</p>

С помощью команды `ip a` проверяем IP-адрес, который был выдан виртуальной машине `vm-A` в сети по протоколу DHCP:

<p align="center">
 <img width="600px" src="2 ip.png" alt="qr"/>
</p>

`vm-A` имеет следующий IP-адрес: `192.168.101.212`

С помощью команды `ping google.com` проверяем, обеспечен ли доступ в Интернет (доступность хоста в Интернете):

<p align="center">
 <img width="600px" src="3 ping.png" alt="qr"/>
</p>

Поскольку команда ошибок не выдала, то можно утверждать, что доступ в Интернет обеспечен.

## 2. Создание виртуальной машины B и обеспечение сетевого доступа между сетями

Создаем машину `vm-B`. При ее создании назначаем ее в уже созданную сеть `net-A`, что позволяет машинам видеть друг друга и взаимодействовать:

<p align="center">
 <img width="600px" src="4 vmb.png" alt="qr"/>
</p>

Проверяем, что маска подсети виртуальной машины `vm-B` совпадает с маской подсети виртуальной машины `vm-A`:

<p align="center">
 <img width="600px" src="5 ip b.png" alt="qr"/>
</p>

`vm-B` имеет IP-адрес `192.168.101.160`, что говорит о том, что машины находятся в одной подсети.

С помощью команды `ping` проверяем, что `vm-B` имеет доступ в Интернет:

<p align="center">
 <img width="600px" src="6 internet access b.png" alt="qr"/>
</p>

Теперь проверяем сетевое взаимодействие между машинами с помощью команды `ping`:

от машины `vm-A` к машине `vm-B`:
<p align="center">
 <img width="600px" src="7 a to b.png" alt="qr"/>
</p>

от машины `vm-B` к машине `vm-A`:
<p align="center">
 <img width="600px" src="8 b to a.png" alt="qr"/>
</p>

Таким образом, виртуальные машины видят друг друга и могут взаимодействовать.

## 3. Создание виртуальной машины C и обеспечение сетевого доступа с `vm-A`

Создаем машину `vm-C`, но в другой сети: `default`

<p align="center">
 <img width="600px" src="9 cr c.png" alt="qr"/>
</p>

С помощью команды `ip a` проверяем, что машина `vm-C` получила IP-адрес в другой подсети:

<p align="center">
 <img width="600px" src="10 ip c.png" alt="qr"/>
</p>

Из результатов выполнения команды видно, что IP-адрес у машины `192.168.122.193`

С помощью команды `ping` проверяем, есть ли у машины доступ к `vm-A` и к `vm-B`:

<p align="center">
 <img width="600px" src="11 no acc.png" alt="qr"/>
</p>

# Устанавливаем сетевое взаимодействие между машинами `vm-A` и `vm-C`

Для настройки доступа в виртуальную машину `vm-A` добавляем новый сетевой интерфейс, адрес которого будет в сети машины `vm-C`: `default`

<p align="center">
 <img width="600px" src="12 add net to a.png" alt="qr"/>
</p>

Команда `ip a` показывает, что теперь `vm-A` имеет доступ к двум подсетям:

<p align="center">
 <img width="600px" src="13 new ip a.png" alt="qr"/>
</p>

Так, из результатов выполнения команды видно, что у машины `vm-A` появился еще один IP-адрес:`192.186.122.136`.

Проверяем взаимодействие `vm-A` и `vm-C`:

<p align="center">
 <img width="600px" src="14 acc c.png" alt="qr"/>
</p>

<p align="center">
 <img width="600px" src="15 acc a.png" alt="qr"/>
</p>

Все работает.

## 4. Демонстрация взаимодействия на одном экране

Для обеспечения доступа к виртуальным машинам из терминала пользователя предварительно необходимо было установить пакет `ssh` в каждую виртуальную машину, поэтому выполнила команду `sudo apt install ssh`.

Далее уже в качестве обычного пользователя открыла 4 терминала (два с машиной `vm-A`, один с `vm-B` и один с `vm-C`) с помощью команды `ssh@<ip_address>`. С помощью команды `ping` обеспечила проверку доступа между машинами `vm-A` и `vm-B`, `vm-A` и `vm-C`, `vm-B` и `vm-C`.

<p align="center">
 <img width="600px" src="all tog.png" alt="qr"/>
</p>
